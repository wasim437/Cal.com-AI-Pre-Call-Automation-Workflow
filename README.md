🚀 Cal.com AI Pre-Call Automation Workflow
📘 Overview

This n8n automation integrates Cal.com, Google Sheets, Gemini AI, and Gmail to automatically:

Capture new Cal.com meeting bookings.

Extract key details (company, email, meeting info, website, etc.).

Enrich company information via Google Search (SERP API) and website scraping.

Use Gemini 2.5 Pro to generate a personalized, professional pre-call email.

Send the AI-generated HTML email directly via Gmail.

🧩 Workflow Steps
1️⃣ Cal.com Trigger

Event: BOOKING_CREATED

Triggers whenever a new Cal.com booking is made.

Passes booking data (meeting title, description, etc.) to the next step.

2️⃣ Code Node (Data Extraction & Cleaning)

Extracts structured fields from Cal.com’s eventDescription:

Company, Website, Use Case, Email, Subject, Meeting Time, etc.

Normalizes formatting and validates URLs & text.

Output: clean JSON object ready for database update.

3️⃣ Google Sheets Integration

Operation: appendOrUpdate

Saves or updates booking details in a Google Sheet.

Sheet used:
AI PRE CALL NOTEBOOK INFO

Columns include:
booking_id, meeting_title, company, industry, use_case, website, etc.

4️⃣ Conditional Logic (Switch Node)

Checks:

If a valid use_case exists → generate pre-call email directly.

Else → scrape the company website and extract business context.

5️⃣ HTTP Request + Code (Website Scraper)

Fetches HTML content from the company’s website.

Removes tags, scripts, and styles → returns plain text company info.

6️⃣ SerpApi (Google Search Enrichment)

Searches for additional company data such as:

“About”, “Company Profile”, “Investors”, or “Funding”

Filters results to exclude Cal.com links.

7️⃣ Gemini AI Agents

AI Agent 1: Generates company overview & possible use cases from scraped text.

AI Agent 2: Enhances contextual understanding if multiple sources exist.

Gemini Chat Models: models/gemini-2.5-pro (Google’s latest multimodal LLM).

8️⃣ AI Agent (Final Email Generator)

Uses all combined data (from Google Sheets + website + Gemini analysis).

Prompt instructs Gemini to generate:

Concise, professional HTML email template.

Conditional logic:

If use case exists → focus on it.

Else → auto-generate 2–3 automation suggestions.

9️⃣ Gmail Node

Sends the AI-generated HTML email automatically.

Subject:

Subject: [Meeting Title] | Booking ID [ID] – Let’s Prepare for Your Call


Recipient: Extracted from Cal.com booking (Email field).

📊 Data Flow Summary
Source	Destination	Description
Cal.com	n8n Trigger	New booking event
Code Node	Google Sheets	Clean structured data
Google Sheets	Gemini Agent	Inputs for email generation
Gemini Agent	Gmail	Sends HTML pre-call email
🧠 Example Output Email (Auto-Generated by Gemini)
Hi John Doe,

Hope you're doing well!

I'm Mohamed Wasim from Axtrlabs, a team of automation specialists focused on building powerful, low-code solutions using n8n. Thanks for booking a call regarding "Workflow Automation for Marketing" scheduled for Oct 20, 2025, 3 PM.

We’re excited to learn about “Loopin” and explore how we can assist.

**Company Overview**
Loopin builds intelligent meeting productivity tools helping teams automate note-taking, scheduling, and follow-ups.

**In our session**, we’ll explore automating internal meeting insights to help your team focus on collaboration rather than manual tracking.

**Our Recent Services**
- Automated meeting transcription & CRM syncing  
- Cross-platform event scheduling automation

**Video Call Link:** [Join Here]  

Looking forward to sharing tailored automation ideas for your business.

Best regards,  
**Mohamed Wasim**  
n8n Developer | Axtrlabs

⚙️ Setup Guide
Prerequisites

Cal.com account (with API/webhook access)

Google Sheets API credentials

SerpApi key

Gmail connected in n8n

Gemini API key (via Google Vertex AI)

Installation

Import the .json workflow into n8n.

Connect your credentials for:

Cal.com

Google Sheets

Gmail

SerpApi

Gemini AI

Deploy and test by booking a new Cal.com event.

📈 Outcome

✅ Fully automated AI-driven pre-call workflow that:

Saves hours of manual prep per meeting

Creates personalized outreach emails

Auto-updates Google Sheets with enriched client data
